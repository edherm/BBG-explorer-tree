!function(n){var t={};function e(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return n[r].call(c.exports,c,c.exports,e),c.l=!0,c.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var c in n)e.d(r,c,function(t){return n[t]}.bind(null,c));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="/dist/",e(e.s=2)}([function(n,t){n.exports={klass:function(n){return n.data.name.commonName?"leaves leaf".concat(n.parent.parent.id).concat(n.parent.id).concat(n.id):4===n.depth?"upper branches":3===n.depth?"middle branches":2===n.depth?"lower branches":"trunk"},onMouseOver:function(n){n.depth},onMouseOut:function(n){n.depth},click:function(n){4===n.depth||(n.children?(n._children=n.children,n.children=null):(n.children=n._children,n._children=null))},diagonal:function(n,t){return"M ".concat(n.y," ").concat(n.x," \n            C ").concat((n.y+t.y)/2," ").concat(n.x,",\n            ").concat((n.y+t.y)/2," ").concat(t.x,",\n            ").concat(t.y," ").concat(t.x)}}},function(n,t,e){},function(n,t,e){"use strict";e.r(t);e(1);var r=e(0),c=function(){var n=35,t=50,e=-50,c=700-e-t,a=850-n-35,o=d3.select("main").append("svg").attr("width",c+e+t).attr("height",a+n+t).append("g").attr("transform","translate("+e+","+n+")");d3.csv("src/data/bbg_data191204.csv").then((function(n){var t,e=(t=n,{name:"",children:d3.nest().key((function(n){return n.home})).key((function(n){return n.collection})).key((function(n){return n.genus})).entries(t).map((function(n){return{name:"bbg",children:n.values.map((function(n){return{name:n.key,children:n.values.map((function(n){return{name:n.key,children:n.values.map((function(n){var t=n.collection,e=n.genus,r=n.species,c=n.commonName,a=n.family,o=n.accession,i=n.provenance;return{name:{collection:t,family:a,latinName:"".concat(e," ").concat(r),commonName:c,accession:o,provenance:i}}}))}}))}}))}}))}),i=d3.tree().size([a,c]),u=d3.hierarchy(e,(function(n){return n.children}));u.x0=a/2,u.y0=0;var l=function n(t){var e=i(u),c=e.descendants().slice(1),a=0;e.descendants().forEach((function(n){n.y=150*n.depth}));var l=o.selectAll("g.node").data(e.descendants(),(function(n){return n.id||(n.id=++a)})),d=l.enter().append("g").attr("class","node").attr("transform",(function(n){return"translate(".concat(t.y0,", ").concat(t.x0,")")})).on("click",(function(t){Object(r.click)(t),t.depth<4&&n(t)})).on("mouseover",(function(n){return Object(r.onMouseOver)(n)})).on("mouseout",(function(n){return Object(r.onMouseOut)(n)}));d.append("circle").attr("class",(function(n){return"".concat(Object(r.klass)(n))})).attr("r",7).style("fill",(function(n){return n.children?"grey":"rgb(152, 199, 45)"})),d.append("text").text((function(n){if(n.depth>1)return n.data.name.commonName?"- ".concat(n.data.name.commonName," -"):"- ".concat(n.data.name," -")})).attr("x",(function(n){return n.children||n._children?-13:13})).attr("dy",".35em").attr("class",(function(n){return"".concat(Object(r.klass)(n))})).attr("text-anchor",(function(n){return n.children||n._children?"end":"start"}));var s=d.merge(l);s.transition().duration(1300).attr("transform",(function(n){return"translate(".concat(n.y,", ").concat(n.x,")")})),s.select("circle.branches").attr("r",7).style("fill",(function(n){return n.children?"grey":"rgb(64, 125, 194)"})).attr("cursor","pointer");var f=l.exit().transition().duration(1300).attr("transform",(function(n){return"translate(".concat(t.y,", ").concat(t.x,")")})).remove();f.select("circle.branches","circle.leaves").attr("r",1e-6),f.select("text").style("fill-opacity",1e-6),d3.selectAll("circle.leaves").enter().on("mouseOver",(function(n){return Object(r.onMouseOver)(n)})).on("mouseOut",(function(n){return Object(r.onMouseOut)(n)}));var m=o.selectAll(".link").data(c,(function(n){return n.id}));m.enter().insert("path","g").attr("class",(function(n){return"link ".concat(Object(r.klass)(n))})).attr("d",(function(){var n={x:t.x0,y:t.y0};return Object(r.diagonal)(n,n)})).merge(m).transition().duration(1300).attr("d",(function(n){return Object(r.diagonal)(n,n.parent)}));m.exit().transition().duration(1300).attr("d",(function(n){var e={x:t.x,y:t.y};return Object(r.diagonal)(e,e)})).remove();e.descendants().forEach((function(n){n.x0=n.x,n.y0=n.y}))};l(u),u.children[0].descendants().forEach((function(n){n._children=n.children,n.depth>1&&(n.children=null)})),l(u)}))};window.addEventListener("DOMContentLoaded",(function(){c()}))}]);
//# sourceMappingURL=main.js.map