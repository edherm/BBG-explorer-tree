!function(t){var e={};function n(c){if(e[c])return e[c].exports;var r=e[c]={i:c,l:!1,exports:{}};return t[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,c){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(c,r,function(e){return t[e]}.bind(null,r));return c},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=2)}([function(t,e){t.exports={klass:function(t){return t.data.name.commonName?"leaves leaf".concat(t.parent.parent.id).concat(t.parent.id).concat(t.id):3===t.depth?"upper branches":2===t.depth?"middle branches":1===t.depth?"lower branches":"trunk"},onMouseOver:function(t){t.depth},onMouseOut:function(t){t.depth},click:function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null)},diagonal:function(t,e){return"M ".concat(t.y," ").concat(t.x," \n            C ").concat((t.y+e.y)/2," ").concat(t.x,",\n            ").concat((t.y+e.y)/2," ").concat(e.x,",\n            ").concat(e.y," ").concat(e.x)},selection:function(){var t=document.getElementById("collections"),e=0===t.selectedIndex?1:t.selectedIndex;return t.options[e].text}}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(1);var c=n(0),r=function(){var t=35,e=75,n=75,r=850-n-e,o=850-t-35;d3.csv("src/data/bbg_data191204.csv").then((function(a){var i,u,l,d=(i=a,u=d3.nest().key((function(t){return t.collection})).key((function(t){return t.genus})).entries(i),l={},u.forEach((function(t){l[t.key]={name:t.key,children:t.values.map((function(t){return{name:t.key,children:t.values.map((function(t){var e=t.collection,n=t.genus,c=t.species,r=t.commonName,o=t.family,a=t.accession,i=t.provenance;return{name:{collection:e,family:o,latinName:"".concat(n," ").concat(c),commonName:r,accession:a,provenance:i}}}))}}))}})),l);!function(t){var e=document.createElement("form"),n=document.createElement("select");n.setAttribute("id","collections");var c=document.createElement("input");c.setAttribute("type","submit"),c.setAttribute("value","Switch Collection"),c.setAttribute("id","collectionSubmit"),t.forEach((function(t){var e=document.createElement("option");e.setAttribute("value",t),e.innerHTML=t,n.append(e)})),e.append(n),e.append(c),document.getElementById("main").append(e)}(Object.keys(d)),document.getElementById("collectionSubmit").onclick=function(t){t.preventDefault(),Object(c.click)(s),y(s),setTimeout((function(){p(),y(s),v()}),1120)};var s,f=d3.select("main").append("svg").attr("width",r+n+e).attr("height",o+t+e).append("g").attr("transform","translate("+n+","+t+")"),m=d3.tree().size([o,r]),p=function(){(s=d3.hierarchy(d[Object(c.selection)()],(function(t){return t.children}))).x0=o/2,s.y0=0},y=function t(e){var n=m(s),r=n.descendants().slice(1),o=0;n.descendants().forEach((function(t){t.y=150*t.depth}));var a=f.selectAll("g.node").data(n.descendants(),(function(t){return t.id||(t.id=++o)})),i=a.enter().append("g").attr("class","node").attr("transform",(function(t){return"translate(".concat(e.y0,", ").concat(e.x0,")")})).on("click",(function(e){Object(c.click)(e),e.depth<3&&t(e)})).on("mouseover",(function(t){return Object(c.onMouseOver)(t)})).on("mouseout",(function(t){return Object(c.onMouseOut)(t)}));i.append("circle").attr("class",(function(t){return"".concat(Object(c.klass)(t))})).attr("r",7).style("fill",(function(t){return t.children?"grey":"rgb(152, 199, 45)"})),i.append("text").text((function(t){if(t.depth>0)return t.data.name.commonName?"- ".concat(t.data.name.commonName," -"):"- ".concat(t.data.name," -")})).attr("x",(function(t){return t.children||t._children?-13:13})).attr("dy",".35em").attr("class",(function(t){return"".concat(Object(c.klass)(t))})).attr("text-anchor",(function(t){return t.children||t._children?"end":"start"}));var u=i.merge(a);u.transition().duration(1100).attr("transform",(function(t){return"translate(".concat(t.y,", ").concat(t.x,")")})),u.select("circle.branches").attr("r",7).style("fill",(function(t){return t.children?"grey":"rgb(64, 125, 194)"})).attr("cursor","pointer");var l=a.exit().transition().duration(1100).attr("transform",(function(t){return"translate(".concat(e.y,", ").concat(e.x,")")})).remove();l.select("circle.branches","circle.leaves").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6),d3.selectAll("circle.leaves").enter().on("mouseOver",(function(t){return Object(c.onMouseOver)(t)})).on("mouseOut",(function(t){return Object(c.onMouseOut)(t)}));var d=f.selectAll(".link").data(r,(function(t){return t.id}));d.enter().insert("path","g").attr("class",(function(t){return"link ".concat(Object(c.klass)(t))})).attr("d",(function(){var t={x:e.x0,y:e.y0};return Object(c.diagonal)(t,t)})).merge(d).transition().duration(1100).attr("d",(function(t){return Object(c.diagonal)(t,t.parent)}));d.exit().transition().duration(1100).attr("d",(function(t){var n={x:e.x,y:e.y};return Object(c.diagonal)(n,n)})).remove();n.descendants().forEach((function(t){t.x0=t.x,t.y0=t.y}))},v=function(){var t=1120;s.children.forEach((function(e){setTimeout((function(){Object(c.click)(e),y(e)}),t),t+=1120}))};p(),y(s),v()}))};window.addEventListener("DOMContentLoaded",(function(){r()}))}]);
//# sourceMappingURL=main.js.map